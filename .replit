modules = ["cpp-clang14", "c-clang14", "python-3.12", "cpp-clang"]
[agent]
expertMode = true

[nix]
channel = "stable-25_05"
packages = ["cmake", "gnumake", "wget", "curl", "valgrind"]

[workflows]
runButton = "Project"

[[workflows.workflow]]
name = "Project"
mode = "parallel"
author = "agent"

[[workflows.workflow.tasks]]
task = "workflow.run"
args = "UPX Dev Environment"

[[workflows.workflow.tasks]]
task = "workflow.run"
args = "Resize Development Server"

[[workflows.workflow]]
name = "UPX Dev Environment"
author = "agent"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "./run_dev.sh"

[workflows.workflow.metadata]
outputType = "console"

[[workflows.workflow]]
name = "Resize Development Server"
author = "agent"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"üéØ Resize is ready! Executable built successfully at: $(pwd)/build/release/resize\" && echo \"üìè Binary size: $(ls -lh build/release/resize | awk '{print $5}')\" && echo \"‚úÖ Run './build/release/resize --help' for usage\" && sleep infinity"

[workflows.workflow.metadata]
outputType = "console"

[deployment]
deploymentTarget = "vm"
run = ["./build/release/resize", "--help"]
build = ["cmake", ".", "-DCMAKE_BUILD_TYPE=Release", "&&", "make", "-j$(nproc)"]
